TOP = ../../..

PROGRAM = NewPortsTests 

# This line includes default values for the variables below
include $(TOP)/build/defaults.cfg

# whether to use double (1) or float (0) for TData
CLAM_DOUBLE = 0

# whether to compile XML dependant code, and link agains Xerces
CLAM_USE_XML = 1

# whether to disable all the CLAM checks, both debug and normal
#CLAM_DISABLE_CHECKS = 0

# whether to simulate release checks being in debug mode
#CLAM_USE_RELEASE_ASSERTS = 0

# external library dependency indicators

USE_ALSA = 0
USE_FFTW = 0
#USE_FLTK = 0
#USE_QT = 0
#USE_DIRECTX = 0
#USE_PORTAUDIO = 0
#USE_PORTMIDI = 0
#USE_RTAUDIO = 0
USE_PTHREADS = 1
USE_CPPUNIT = 1 

PRJ_SEARCH_INCLUDES =
PRJ_SEARCH_RECURSE_INCLUDES =  $(TOP)/test/UnitTests/NodesExperiments

#$(TOP)/test/UnitTests


include $(TOP)/build/system.cfg

# for avoiding the nasty bug of Factories being instantiated more than once over the same
# memory address
INLINE_VC6_FIX_FLAGS_RELEASE = \
	/nologo /MD /W3 /GR /GX /O2 /Ob0 /FD /c /Zm1000

# for avoiding the possible bug in gcc-3.2.2 (RedHat patch) code optimizer and usage of
# fomit-frame-pointer

CXXFLAGS_RELEASE_SAFE= -O3 
#APPLE_CXXFLAGS_RELEASE_SAFE= -O3 -fno-inline -fcoalesce -fcoalesce-templates

CXXFLAGS_RELEASE = $(OS_WINDOWS? $(INLINE_VC6_FIX_FLAGS_RELEASE) : $(CXXFLAGS_RELEASE) )
CXXFLAGS_RELEASE = $(OS_LINUX? $(CXXFLAGS_RELEASE_SAFE) : $(CXXFLAGS_RELEASE) )
#CXXFLAGS_RELEASE = $(OS_MACOSX? $(APPLE_CXXFLAGS_RELEASE_SAFE) : $(CXXFLAGS_RELEASE) )

# add here the path to the source file that contains the application
# entry point

#	$(CLAM_PATH)/test/UnitTests/FactoryTest/PolymorphicTest.cxx \

#	$(CLAM_PATH)/test/UnitTests/TestRunnerConsole.cxx \
#	$(CLAM_PATH)/test/UnitTests/cppUnitHelperTest.cxx \

#	$(CLAM_PATH)/test/UnitTests/NodesExperiments/PhantomBufferTest.cxx \


SOURCES = \
	$(CLAM_PATH)/test/UnitTests/TestRunnerConsole.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsPhantomBufferStream.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsPortsRegionsInteraction.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsAudioPorts.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsRegions.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsStlBasedStream.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsStlVector.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsStream.cxx \
	$(CLAM_PATH)/test/UnitTests/NodesExperiments/TestsRandomStream.cxx \
