USE_DIRECTX = $(USE_RTAUDIO?1:$(USE_DIRECTX))

QTDIR_CONDITIONAL = $(USE_QT?$(QTDIR))

SEARCH_INCLUDES = \
  $(COMMON_SEARCH_INCLUDES) \
  $(USE_CPPUNIT?$(CLAM_PATH)/../cppunit/include) \
  $(USE_DIRECTX?$(CLAM_PATH)/../dxsdk/include) \
  $(USE_FFTW?$(CLAM_PATH)/../fftw/include) \
  $(USE_FLTK?$(CLAM_PATH)/../fltk/include) \
  $(USE_ID3?$(CLAM_PATH)/../id3lib/include) \
  $(USE_MAD?$(CLAM_PATH)/../libmad/include) \
  $(USE_OGGVORBIS?$(CLAM_PATH)/../oggvorbis/include) \
  $(USE_PORTMIDI?$(CLAM_PATH)/../portmidi/include) \
  $(USE_PTHREADS?$(CLAM_PATH)/../pthreads/include) \
  $(USE_QT?$(QTDIR_CONDITIONAL)/include) \
  $(USE_QWT?$(CLAM_PATH)/../qwt/include) \
  $(USE_SNDFILE?$(CLAM_PATH)/../libsndfile/include) \
  $(USE_XERCES?$(CLAM_PATH)/../xercesc/include)

LIBRARY_PATHS = \
  $(USE_CPPUNIT?$(CLAM_PATH)/../cppunit/lib) \
  $(USE_DIRECTX?$(CLAM_PATH)/../dxsdk/lib) \
  $(USE_FFTW?$(CLAM_PATH)/../fftw/lib) \
  $(USE_FLTK?$(CLAM_PATH)/../fltk/lib) \
  $(USE_ID3?$(CLAM_PATH)/../id3lib/lib) \
  $(USE_MAD?$(CLAM_PATH)/../libmad/lib) \
  $(USE_OGGVORBIS?$(CLAM_PATH)/../oggvorbis/lib) \
  $(USE_PORTMIDI?$(CLAM_PATH)/../portmidi/lib) \
  $(USE_PTHREADS?$(CLAM_PATH)/../pthreads/lib) \
  $(USE_QT?$(QTDIR_CONDITIONAL)/lib) \
  $(USE_QWT?$(CLAM_PATH)/../qwt/lib) \
  $(USE_SNDFILE?$(CLAM_PATH)/../libsndfile/lib) \
  $(USE_XERCES?$(CLAM_PATH)/../xercesc/lib)

STD_WIN32_LIBS_COMMON = \
  advapi32 \
  comctl32 \
  comdlg32 \
  gdi32 \
  kernel32 \
  ole32 \
  oleaut32 \
  shell32 \
  user32 \
  uuid \
  winspool \
  wsock32

STD_WIN32_LIBS_COMMON_VC7 = \
  $(STD_WIN32_LIBS_COMMON) \
  delayimp \
  imm32 \
  winmm


STD_WIN32_LIBS_DEBUG = $(STD_WIN32_LIBS_COMMON)

STD_WIN32_LIBS_RELEASE = $(STD_WIN32_LIBS_COMMON)

STD_WIN32_LIBS_DEBUG_VC7 = $(STD_WIN32_LIBS_COMMON_VC7)

STD_WIN32_LIBS_RELEASE_VC7 = $(STD_WIN32_LIBS_COMMON_VC7)

STD_WIN32_LIBS_WITH_GL_COMMON = \
  $(STD_WIN32_LIBS_COMMON) \
  glu32 \
  opengl32

STD_WIN32_LIBS_WITH_GL_COMMON_VC7 = \
  $(STD_WIN32_LIBS_COMMON_VC7) \
  glu32 \
  opengl32

FLTK_LIBS_DEBUG = \
  $(STD_WIN32_LIBS_WITH_GL_COMMON) \
  fltkd \
  fltkformsd \
  fltkgld \
  fltkimagesd

FLTK_LIBS_RELEASE = \
  $(STD_WIN32_LIBS_WITH_GL_COMMON) \
  fltk \
  fltkforms \
  fltkgl \
  fltkimages

FLTK_LIBS_DEBUG_VC7 = \
  $(STD_WIN32_LIBS_WITH_GL_COMMON_VC7) \
  fltkd_vc7 \
  fltkformsd_vc7 \
  fltkgld_vc7 \
  fltkimagesd_vc7

FLTK_LIBS_RELEASE_VC7 = \
  $(STD_WIN32_LIBS_WITH_GL_COMMON_VC7) \
  fltk_vc7 \
  fltkformsd_vc7 \
  fltkgld_vc7 \
  fltkimagesd_vc7

OGGVORBIS_LIBS_DEBUG = \
  ogg_static_d \
  vorbis_static_d \
  vorbisenc_static_d \
  vorbisfile_static_d

OGGVORBIS_LIBS_RELEASE = \
  ogg_static \
  vorbis_static \
  vorbisenc_static \
  vorbisfile_static

OGGVORBIS_LIBS_DEBUG_V7 = $(OGGVORBIS_LIBS_DEBUG)

OGGVORBIS_LIBS_RELEASE_V7 = $(OGGVORBIS_LIBS_RELEASE)

QT_LIBS_COMMON = \
  $(QTDIR_CONDITIONAL)/lib/qt-mt322 \
  $(QTDIR_CONDITIONAL)/lib/qtmain \
  $(STD_WIN32_LIBS_COMMON)

QT_LIBS_DEBUG = $(QT_LIBS_COMMON) $(STD_WIN32_LIBS_DEBUG)

QT_LIBS_RELEASE = $(QT_LIBS_COMMON) $(STD_WIN32_LIBS_RELEASE)

QT_LIBS_DEBUG_V7 = $(QT_LIBS_DEBUG) $(STD_WIN32_LIBS_DEBUG_VC7)

QT_LIBS_RELEASE_V7 = $(QT_LIBS_RELEASE) $(STD_WIN32_LIBS_RELEASE_VC7)

LIBRARIES_DEBUG = \
  $(USE_CPPUNIT?cppunitd_vc6) \
  $(USE_DIRECTX?dsound dxerr8 user32 gdi32) \
  $(USE_FFTW?FFTW2std RFFTW2std) \
  $(USE_FLTK?$(FLTK_LIBS_DEBUG)) \
  $(USE_ID3?id3libd) \
  $(USE_MAD?libmadd) \
  $(USE_OGGVORBIS?$(OGGVORBIS_LIBS_DEBUG)) \
  $(USE_PORTMIDI?portmidid porttimed winmm) \
  $(USE_PTHREADS?pthreadVC) \
  $(USE_QT?$(QT_LIBS_DEBUG)) \
  $(USE_QWT?qwt) \
  $(USE_SNDFILE?libsndfiled) \
  $(USE_STD_WIN32_LIBS?$(STD_WIN32_LIBS_DEBUG)) \
  $(USE_XERCES?xerces-c_2d)

LIBRARIES_RELEASE = \
  $(USE_CPPUNIT?cppunit_vc6) \
  $(USE_DIRECTX?dsound dxerr8 user32 gdi32) \
  $(USE_FFTW?RFFTW2st FFTW2st) \
  $(USE_FLTK?$(FLTK_LIBS_RELEASE)) \
  $(USE_ID3?id3lib) \
  $(USE_MAD?libmad) \
  $(USE_OGGVORBIS?$(OGGVORBIS_LIBS_RELEASE)) \
  $(USE_PORTMIDI?portmidi porttime winmm) \
  $(USE_PTHREADS?pthreadVC) \
  $(USE_QT?$(QT_LIBS_RELEASE)) \
  $(USE_QWT?qwt) \
  $(USE_SNDFILE?libsndfile) \
  $(USE_STD_WIN32_LIBS?$(STD_WIN32_LIBS_RELEASE)) \
  $(USE_XERCES?xerces-c_2)

VC7_LIBRARIES_DEBUG = \
  $(USE_CPPUNIT?cppunitd_vc7) \
  $(USE_DIRECTX?dsound dxerr8 user32 gdi32) \
  $(USE_FFTW?FFTW2std RFFTW2std) \
  $(USE_FLTK?$(FLTK_LIBS_DEBUG_VC7)) \
  $(USE_ID3?id3libd_vc7 zlibD_vc7) \
  $(USE_MAD?libmadd) \
  $(USE_OGGVORBIS?$(OGGVORBIS_LIBS_DEBUG_V7) \
  $(USE_PORTMIDI?portmidid porttimed winmm) \
  $(USE_PTHREADS?pthreadVC) \
  $(USE_QT?$(QT_LIBS_DEBUG_V7)) \
  $(USE_QWT?qwt) \
  $(USE_SNDFILE?libsndfiled) \
  $(USE_STD_WIN32_LIBS?$(STD_WIN32_LIBS_DEBUG_V7)) \
  $(USE_XERCES?xerces-c_2d)

VC7_LIBRARIES_RELEASE = \
  $(USE_CPPUNIT?cppunit_vc7) \
  $(USE_DIRECTX?dsound dxerr8 user32 gdi32) \
  $(USE_FFTW?RFFTW2st FFTW2st) \
  $(USE_FLTK?$(FLTK_LIBS_RELEASE_VC7)) \
  $(USE_ID3?id3lib_vc7 zlib_vc7) \
  $(USE_MAD?libmad) \
  $(USE_OGGVORBIS?$(OGGVORBIS_LIBS_RELEASE_V7)) \
  $(USE_PORTMIDI?portmidi porttime winmm) \
  $(USE_PTHREADS?pthreadVC) \
  $(USE_QT?$(QT_LIBS_RELEASE_V7)) \
  $(USE_QWT?qwt) \
  $(USE_SNDFILE?libsndfile) \
  $(USE_STD_WIN32_LIBS?$(STD_WIN32_LIBS_RELEASE_V7)) \
  $(USE_XERCES?xerces-c_2)

LINK_FLAGS_DEBUG = \
  $(IS_LIBRARY?/dll) \
  /NODEFAULTLIB:MSVCRT \
  /debug \
  /machine:I386 \
  /nologo \
  /subsystem:console

LINK_FLAGS_RELEASE = \
  $(IS_LIBRARY?/dll) \
  /NODEFAULTLIB:MSVCRTD \
  /machine:I386 \
  /nologo \
  /subsystem:console

SOURCES_AUDIODEVICE = \
  $(USE_DIRECTX?$(CLAM_PATH)/src/Tools/AudioIO/Windows/DirectXAudioDevice.cxx) \
  $(USE_PORTAUDIO?$(CLAM_PATH)/src/Tools/AudioIO/Windows/PAAudioDevice.cxx) \
  $(USE_RTAUDIO?$(CLAM_PATH)/src/Tools/AudioIO/RtAudio/RtAAudioDevice.cxx)

SOURCES_MIDIDEVICE = \
  $(CLAM_PATH)/src/Tools/MIDIIO/File/FileMIDIDevice.cxx \
  $(USE_PORTMIDI?$(CLAM_PATH)/src/Tools/MIDIIO/PortMIDI/PORTMIDIDevice.cxx)

DEFINES = \
  $(COMMON_DEFINES) \
  $(USE_ID3?ID3LIB_LINKOPTION=1) \
  $(USE_QT? QT_DLL QT_THREAD_SUPPORT VISUAL) \
  $(USE_RTAUDIO?__WINDOWS_DS__) \
  HAVE_STANDARD_SSTREAM \
  HAVE_STANDARD_SSTREAM_STR \
  HAVE_STANDARD_UNICODE \
  HAVE_STANDARD_VECTOR_AT \
  WIN32 \
  _CONSOLE \
  _MBCS

CXXFLAGS_DEBUG = \
  "_DEBUG" /D /FD /GR /GX /GZ /MDd /Od /W3 /ZI /Zm1000 /c /nologo

