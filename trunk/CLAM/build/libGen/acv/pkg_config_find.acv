#####################################################################
# pkgconfig routine for finding $$feature
#
# source: $$filename 
#####################################################################
if test x$enabled_$$feature_esc = xyes
    then
    if test x$found_$$feature_esc = xno
	then
	AC_MSG_CHECKING([$$feature has pkg-config])
	if test x$pkg_config_status = xenabled
	    then
	    $pkg_config --exists $$feature
	    if test $? = 0
		then
		AC_MSG_RESULT([yes])
		found_$$feature_esc=yes
		include_dirs_$$feature_esc=`$pkg_config $$feature --cflags-only-I | sed -e 's/ -I/ /g' |  sed -e 's/^-I/ /g' | sed -e 's/^ //'`
		libs_$$feature_esc=`$pkg_config $$feature --libs-only-l | sed -e 's/ -l/ /g' |  sed -e 's/^-l/ /g' | sed -e 's/^ //'`
		lib_dirs_$$feature_esc=`$pkg_config $$feature --libs-only-L | sed -e 's/ -L/ /g' | sed -e 's/^-L/ /g' | sed -e 's/^ //'`
	    else
		AC_MSG_RESULT([no])
		found_$$feature_esc=no
	    fi
	else
	    if test x$pkg_config_status = xdisabled
		then
		AC_MSG_RESULT([no: pkg-config disabled])
	    else
		AC_MSG_RESULT([no: pkg-config is not installed])
	    fi
	fi
    fi
fi
#####################################################################

