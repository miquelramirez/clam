#####################################################################
# Look for $$package in the sandbox
#
# source: $$filename 
#####################################################################
AC_MSG_CHECKING([$$package in sandbox])
if test x$sandbox_location = x
then
	if test x$enabled_sandbox = xno
	then
		AC_MSG_RESULT([no - sandbox disabled])	
	else
		AC_MSG_RESULT([no - sandbox not found])	
	fi
else
	AC_MSG_RESULT([searching headers])	
	if test x$found_$$package_esc = xno
	then
		found=1
		for file in $$headers{$$package}
		do
			AC_MSG_CHECKING([$file for $$package in sandbox])
			if test -r $sandbox_location/$$sandbox{$$package}/include/$file
			then
				AC_MSG_RESULT([yes])
				include_dirs_$$package_esc="$sandbox_location/$$sandbox{$$package}/include"
			else
				AC_MSG_RESULT([no])
				found=0
			fi
		done
		AC_MSG_CHECKING([[$$package header(s) found in sandbox]])
		if test $found = 1
		then
			AC_MSG_RESULT([yes])
			sep=""
			found=1
			libdirset=no
			for file in $$libs{$$package}
			do
				AC_MSG_CHECKING([lib$file for $$package in sandbox])
				if test -r $sandbox_location/$$sandbox{$$package}/lib/lib$file.$dllext
					then
					AC_MSG_RESULT([yes])
					libs_$$package_esc="$libs_$$package_esc$sep$file"
					if test x$libdirset = xno
					then
						lib_dirs_$$package_esc="$sandbox_location/$$sandbox{$$package}/lib"
						libdirset=yes
					fi
					sep=" "
				else
					AC_MSG_RESULT([no])
					found=0
				fi
			done
			AC_MSG_CHECKING([[all $$package lib(s) found in sandbox]])
			if test $found = 1
			then
				AC_MSG_RESULT([yes])
				found_$$package_esc=yes
			else
				AC_MSG_RESULT([no])
				found_$$package_esc=no
			fi
		else
			AC_MSG_RESULT([no])
			found_$$package_esc=no
		fi
	fi
fi
#####################################################################

