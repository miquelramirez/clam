TOP = ..

PROGRAM = NetworkEditor

include $(TOP)/build/defaults.cfg

#CLAM_DOUBLE = 1
# whether to use double (1) or float (0) for TData

CLAM_USE_XML = 1
# whether to compile XML dependant code, and link agains Xerces

CLAM_DISABLE_CHECKS = 0
# whether to disable all the CLAM checks, both debug and normal

CLAM_USE_RELEASE_ASSERTS = 0
# whether to simulate release checks being in debug mode

USE_CPPUNIT = 0
USE_ALSA = $(HAS_ALSA)
USE_DIRECTX = 0
USE_PORTAUDIO = 0
USE_RTAUDIO = $(HAS_RTAUDIO)
USE_PTHREADS = 1
USE_PORTMIDI = 0
USE_QT = 1
USE_FFTW = 1
USE_GL = 1
USE_FLTK = 0
USE_MAD = 1
USE_ID3 = 1
USE_OGGVORBIS = 1
USE_SNDFILE = 1
USE_OSCPACK = $(HAS_OSCPACK)

PRJ_SEARCH_INCLUDES = 
PRJ_SEARCH_RECURSE_INCLUDES =  $(TOP)/src

include $(TOP)/build/system.cfg

UI_FILES = $(TOP)/src/GUI/Interface/aboutdialog.ui

SMS_TRANSFORMS_DIR = $(CLAM_PATH)/src/Processing/Transformations/SMS

CXXFLAGS_RELEASE = $(CXXFLAGS_RELEASE) -O3 -march=i686 -funroll-loops
CXXFLAGS_DEBUG = $(CXXFLAGS_DEBUG)
#-I/usr/local/include/oscpack/ip -I/usr/local/include/oscpack/osc

LIBRARIES_RELEASE = $(LIBRARIES_RELEASE) jack portaudio
LIBRARIES_DEBUG = $(LIBRARIES_DEBUG) jack portaudio

MONITORS_DIR = $(TOP)/src/GUI/Qt_Presentations/ConcretePresentations

SOURCES = \
	$(MONITORS_DIR)/Qt_SinTracksPortMonitorPresentation.cxx \

IMPLICIT_PROCESSING_DEPS = \ 
	$(CLAM_PATH)/src/Processing/Controls/FlagControl.cxx \
	$(CLAM_PATH)/src/Processing/Controls/ControlScaler.cxx \
	$(CLAM_PATH)/src/Processing/Controls/Fundamental2Control.cxx \
	$(CLAM_PATH)/src/Processing/Controls/ControlPrinter.cxx \
	$(CLAM_PATH)/src/Processing/MIDIIO/MIDIDispatcher.cxx \	
	$(CLAM_PATH)/src/Processing/MIDIIO/MIDIKeyboard.cxx \
	$(TOP)/src/Processings/Random.cxx \
	$(TOP)/src/Processings/OneOverF.cxx \
	$(TOP)/src/Processings/SquareWave.cxx \
	$(CLAM_PATH)/src/Processing/Plugins/LadspaLoader.cxx \
	$(CLAM_PATH)/src/Processing/AudioFileIO/MonoAudioFileReader.cxx \
	$(CLAM_PATH)/src/Processing/AudioFileIO/MonoAudioFileWriter.cxx \
	$(CLAM_PATH)/src/Processing/AudioFileIO/MultiChannelAudioFileReader.cxx \
	$(CLAM_PATH)/src/Processing/AudioFileIO/MultiChannelAudioFileWriter.cxx \
	$(CLAM_PATH)/src/Processing/Controls/OutControlSender.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/AudioPlotProcessing.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/SpectrumPlotProcessing.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/PeaksPlotProcessing.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/FundPlotProcessing.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/SinTracksPlotProcessing.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/FundTrackPlotProcessing.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/SpecgramPlotProcessing.cxx \
	$(CLAM_PATH)/src/Visualization/QTVM/Network/Processings/AudioBuffPlotProcessing.cxx \
	$(CLAM_PATH)/src/Processing/Generators/SimpleOscillator.cxx \
	$(CLAM_PATH)/src/Processing/Generators/Oscillator.cxx \
	$(CLAM_PATH)/src/Processing/ArithOps/AudioMultiplier.cxx \
	$(CLAM_PATH)/src/Processing/ArithOps/AudioAdder.cxx \
	$(CLAM_PATH)/src/Processing/ArithOps/AudioMixer.cxx \
	$(CLAM_PATH)/src/Processing/Analysis/FFT_rfftw.cxx \
	$(CLAM_PATH)/src/Processing/Synthesis/IFFT_rfftw.cxx \
	$(CLAM_PATH)/src/Processing/Synthesis/SMSSynthesis.cxx \
	$(CLAM_PATH)/src/Processing/Controls/AutoPanner.cxx \
	$(CLAM_PATH)/src/Processing/Controls/Controller.cxx \
	$(CLAM_PATH)/src/Processing/Generators/ADSR.cxx \
	$(CLAM_PATH)/src/Processing/Analysis/SMSAnalysisCore.cxx \
	$(CLAM_PATH)/src/Processing/AudioIO/AudioOut.cxx \
	$(CLAM_PATH)/src/Processing/Controls/OSCSender.cxx \
	$(CLAM_PATH)/src/Processing/Controls/ExternGenerator.cxx \
	$(CLAM_PATH)/src/Processing/Controls/ExternSink.cxx 

SOURCES = \
	$(TOP)/src/main.cxx \
	$(IMPLICIT_PROCESSING_DEPS) \
	$(TOP)/src/RegisterProcessingConfigPresentations.cxx \
	$(TOP)/src/RegisterSMSTranformationConfigPresentations.cxx \
	$(TOP)/src/RegisterVisualizationConfigPresentations.cxx \
	$(SOURCES_AUDIODEVICE) \
	$(SOURCES_MIDIDEVICE) \
	$(MONITORS_DIR)/Qt_OutControlSenderPresentation.cxx \
	$(MONITORS_DIR)/Qt_PeaksPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_AudioPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_FundPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_SpectrumPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_AudioBuffPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_SpecgramPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_FundTrackPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_SinTracksPortMonitorPresentation.cxx \
	$(MONITORS_DIR)/Qt_ExternSinkGeneratorPresentation.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSFreqShift.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSPitchShift.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSResidualGain.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSSinusoidalGain.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSSineFilter.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSOddEvenHarmonicRatio.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSSpectralShapeShift.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSPitchDiscretization.cxx \
	$(SMS_TRANSFORMS_DIR)/SMSGenderChange.cxx \
	$(TOP)/src/Visualization/BlockingNetworkPlayer.cxx \
	$(TOP)/src/Visualization/JACKNetworkPlayer.cxx \
	$(TOP)/src/Visualization/PANetworkPlayer.cxx

OSC_SOURCES= $(CLAM_PATH)/src/Processing/Controls/OSCSender.cxx \
        $(CLAM_PATH)/src/Flow/Networks/OSCEnabledNetwork.cxx

SOURCES = $(USE_OSCPACK? $(SOURCES) $(OSC_SOURCES) : $(SOURCES) )
